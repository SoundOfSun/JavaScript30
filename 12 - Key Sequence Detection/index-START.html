<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <!-- <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script> -->
  <style>
    body {
      background-color: #BADA55;
      font-size: 36px;
    }

    h1 {
      text-align: center;
      font-size: 28px;
    }

    .konami {
      margin: 0 auto;
      padding: 10px;
      width: 90%;
      display: flex;
      justify-content: center;
      margin-top: 50px;
    }

    .code {
      padding: 10px;
      border: 2px solid black;
    }

    #win {
      font-size: 24px;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Kodami Code</h1>
  <div class="konami">
    <div class="code">
      ⇧ ⇧ ⇩ ⇩ ⇦ ⇨ ⇦ ⇨ B A
    </div>
  </div>
<script>
  const pressed = [];
  const secretCode = '38384040373937396665';
  const body = document.querySelector('body');

  window.addEventListener('keyup', (e) => {
    // Test to see what is pressed and if it goes into the empty array
    console.log(e.key);
    pressed.push(e.keyCode);
    console.log(pressed);

    // Only allow a certain number of chars into []
    pressed.splice(-secretCode.length - 1, pressed.length - (secretCode.length / 2));

    // Check it matches the kodami code
    if (pressed.join('').includes(secretCode)) {
      console.log('DING! DING! DING!');
      body.insertAdjacentHTML("beforeend", `<h2 id="win">YOU WON!</h2>`);
    }
  });
</script>
</body>
</html>
